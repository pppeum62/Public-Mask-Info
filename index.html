<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>PublicMaskInfo</title>
    </head>
    <body>
        <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=a5cabe51c4046f893babe8d3addb4e9f&libraries=services,clusterer,drawing"></script>
        <div id="map" style="width:500px; height:400px;"></div>
        <script>
            var container = document.getElementById('map'); //지도를 담을 영역의 DOM 레퍼런스
            var options = { //지도를 생성할 때 필요한 기본 옵션
                /*
                정읍시청 기준의 정보
                좌표 35.5698504,126.8538471
                공적 마스크 정보 https://8oi9s0nnth.apigw.ntruss.com/corona19-masks/v1/storesByGeo/json?lat=35.56987712473425&lng=126.85600564905116&m=2000
                */
                center: new kakao.maps.LatLng(35.5697816,126.8562074), //지도의 중심좌표.
                level: 3 //지도의 레벨(확대, 축소 정도)
            };

            function httpGetAsync(theUrl, callback) {
                var xmlHttp = new XMLHttpRequest();
                xmlHttp.onreadystatechange = function() { 
                    if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
                        callback(xmlHttp.responseText);
                }
                xmlHttp.open("GET", theUrl, true); // true for asynchronous 
                xmlHttp.send(null);
            }

            function requestAPI(response) {
                console.log(response);
            }

            var urlString = "https://8oi9s0nnth.apigw.ntruss.com/corona19-masks/v1/storesByGeo/json?lat=35.56987712473425&lng=126.85600564905116&m=2000";
            httpGetAsync(urlString, requestAPI);

            var map = new kakao.maps.Map(container, options); //지도 생성 및 객체 리턴
        </script>
    </body>
</html>